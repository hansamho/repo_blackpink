<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.hotelstay.infra.member.MemberDao">

	<resultMap id="resultMapObj" type="com.hotelstay.infra.member.MemberDto"></resultMap>
	 <select id="selectList" resultMap="resultMapObj">
        SELECT
            a.memberSeq
            ,a.fristName
            ,a.lastName
            ,a.genderCd
            ,a.birthday
            ,a.memberID
            ,a.memberPassword
            ,a.memberPhone
            ,a.codeNumber
            ,a.roadName
            ,a.addrDetail
            ,a.mbRegDate
            ,a.mbUpdate
            ,a.mbDelny
         FROM member a
        WHERE 1=1
<!--          <if test="shUseNy != null and !shUseNy.equals('')">AND ifcgUseNy = #{shUseNy}</if> -->
        <if test="shDelny != null and !shDelny.equals('')">AND a.mbDelny = #{shDelny}</if> 
       
				<choose>
					<when test="shOptionDate == 1">AND a.mbRegDate BETWEEN #{shDateStart} AND #{shDateEnd}</when>
					<when test="shOptionDate == 2">AND a.mbUpdate BETWEEN #{shDateStart} AND #{shDateEnd}</when>
				</choose>
     
        <choose>
            <when test="shOption == 1">AND a.memberSeq = #{shValue}</when>
            <when test="shOption == 2">AND a.fristName LIKE CONCAT('%',#{shValue},'%')</when>
            <when test="shOption == 3">AND a.lastName LIKE CONCAT('%',#{shValue},'%')</when>
            <when test="shOption == 4">AND a.genderCD LIKE CONCAT('%',#{shValue},'%')</when>
            <when test="shOption == 5">AND a.birthday LIKE CONCAT('%',#{shValue},'%')</when>
            <when test="shOption == 6">AND a.memberID LIKE CONCAT('%',#{shValue},'%')</when>
            <when test="shOption == 7">AND a.memberPhone LIKE CONCAT('%',#{shValue},'%')</when>
        </choose>
        ORDER BY a.memberSeq DESC
    </select>
    
	  
</mapper>